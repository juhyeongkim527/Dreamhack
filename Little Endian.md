# String

`String` 타입의 변수를 저장할 때는 저장된 변수에 따라 알아서 리틀엔디언 방식으로 메모리에 저장된다.  
예를 들어서, 아래와 같은 코드가 있다고 치자.
```
#include<stdio.h>

int main(){
  char* str = "ABC";
  int str_hex = 0x434241;
  int other_hex = 0x414243;
  return 0;
}
```

위 코드에서 `str`에는 "**ABC**"라는 string이 저장되어있다. "ABC"라는 string을 저장하기 위해서는 메모리에 낮은 주소부터 0x41 0x42 0x43이 저장되어 있어야 한다.  
이 값을 저장하려면 "ABC"자체를 hex값으로 변경하면 '**0x414243**' 이지만, 리틀 엔디언에 따라 `str_hex` 변수처럼 "**0x434241**"로 저장해야 한다.

**String을 다른 자료형으로 저장할 때는 hex 값을 거꾸로 저장하면 됨**
### 참고 1. 메모리에서 값을 읽는 방법

1. String을 읽을 때는 메모리의 낮은 주소부터 순서대로 1바이트씩 문자를 읽는다.

2. 다른 자료형 변수를 읽을 때도 똑같이 메모리의 낮은 주소부터 순서대로 읽는 것은 똑같지만, 자료형의 크기에 따라 리틀엔디언으로 저장된 값을 해석하여 읽어야 한다.
예를 들어서, 메모리에 낮은 주소부터 **0x0123456789abcdef**가 저장되어 있는 경우  
(`long int = 0xefcdab8967452301;`과 같음) 4바이트 int 값을 읽을 때는 **0x67452301**으로 읽게 된다. 낮은 주소부터 시작하지만 해당 자료형 자체는 리틀엔디언으로 읽어야 하기 때문이다.

# 정리

정리하면 String을 저장하기 위해 c언어 코드에서 String을 바로 저장할 때는 그냥 원하는 String 값을 저장하면 되지만,    
- `char* str = "ABC";`  

hex나 int값으로 String을 저장하려고 한다면, 리틀엔디언에 맞춰 원하는 String을 거꾸로 뒤집어서 저장해야한다.
- `int str_hex = 0x434241;`

### 참고 2. gdb에서 메모리에 저장된 순서

아래의 사진은 `int str_hex = 0x434241;`이 저장된 메모리이다.

<img width="391" alt="image" src="https://github.com/juhyeongkim527/Dreamhack-Study/assets/138116436/02c007a9-76f3-4c4d-a149-c998bb083302">

메모리에 이렇게 값이 저장되어 있을 때, 뒤에서부터 앞으로 읽는 것이 낮은 메모리부터 높은 메모리까지 읽는 것이다. 아래의 스크린샷으로 확인가능하다.

<img width="827" alt="image" src="https://github.com/juhyeongkim527/Dreamhack-Study/assets/138116436/03096e04-7425-4773-88a6-021325388f76">
